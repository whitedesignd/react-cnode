{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Components/tabar/Tabar.js","Components/topic/Loging.js","Components/pagination/Pagination.jsx","Components/topic/Topic.js","View/Index.js","Components/personal/Personal.jsx","Components/topic/TopicTab.js","Components/topicList/TopicList.jsx"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Tabar","props","tabList","name","path","isActive","location","useLocation","useState","tab","setTab","useEffect","forEach","e","pathname","className","map","v","i","key","to","onClick","handClcik","Loging","params","Pagination","showPages","total","onChange","domIndex","setDomIndex","pageList","setPageList","currentPage","setCurrentPage","quickJumper","setQuickJumper","ul","useRef","list","left","curr","push","page","preventDefault","current","children","classList","remove","add","d","viewBox","focusable","data-icon","width","height","fill","aria-hidden","ref","target","contains","getAttribute","Number","type","value","onKeyUp","keyCode","toString","substr","length","remain","per","Math","floor","console","log","Topic","memo","setList","setKey","setPage","a","tag","axios","get","res","data","success","currPage","Fragment","id","TopicList","Index","history","useHistory","exact","component","match","Personal","useSelector","state","token","personal","author","style","background","loginname","src","avatar_url","alt","title","href","TopicTab","green","backgroundColor","color","styleGood","fontSize","padding","whiteSpace","lineHeight","margin","borderRadius","top","good","useContext","Context","timeInterval","now","reply_count","visit_count","undefined","create_at","last_reply_at"],"mappings":"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","file":"static/js/4.94443212.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React,{useState,useEffect} from 'react';\r\nimport {NavLink,useLocation} from 'react-router-dom';\r\nimport './tab.scss';\r\n\r\n\r\nexport default function Tabar(props) {\r\n    const tabList = [  \r\n        {\r\n            name:\"全部\",\r\n            path: '/index/all',\r\n            isActive: true\r\n        },\r\n        {\r\n            name:\"精华\",\r\n            path: '/index/good',\r\n            isActive: false\r\n        },\r\n        {\r\n            name:\"分享\",\r\n            path: '/index/share',\r\n            isActive: false\r\n        },\r\n        {\r\n            name:\"问答\",\r\n            path: '/index/ask',\r\n            isActive: false\r\n        },\r\n        {\r\n            name:\"招聘\",\r\n            path: '/index/job',\r\n            isActive: false\r\n        },\r\n        {\r\n            name:\"客户端测试\",\r\n            path: '/index/dev',\r\n            isActive: false\r\n        },\r\n    ];\r\n    const location= useLocation();\r\n    const [tab,setTab] = useState(tabList);\r\n\r\n    useEffect(()=>{\r\n        tabList.forEach(e => {\r\n            e.isActive = false;\r\n            if(e.path == location.pathname){\r\n                e.isActive = true; \r\n            }\r\n        })\r\n        setTab([...tabList]);\r\n    },[location.pathname]);\r\n    const handClcik = (i) => {\r\n        tabList.forEach(e => {\r\n            if(e.isActive){\r\n                e.isActive = false;\r\n            }\r\n        })\r\n        tabList[i].isActive = !tabList[i].isActive;\r\n        setTab([...tabList]);\r\n    }\r\n    return (\r\n        <>\r\n            <ul className='tab-link'>\r\n                {\r\n                    tab.map((v,i) => <li key={i}>\r\n                        <NavLink to={v.path} \r\n                            className={v.isActive?'tab-active':''}\r\n                            onClick={()=>handClcik(i)}>\r\n                                {v.name}\r\n                        </NavLink>\r\n                    </li>)\r\n                }\r\n            </ul>       \r\n        </>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport './topic.scss'\r\nexport default function Loging(params) {\r\n    return <div className=\"selected\">\r\n    <div className=\"double-bounce1\"></div>\r\n    <div className=\"double-bounce2\"></div>\r\n  </div>\r\n};\r\n","import React,{useState,useRef,useEffect} from 'react';\r\nimport './page.scss'\r\nexport default function Pagination(props) {\r\n    \r\n    // showPages 展示的页数\r\n    // toatl 总页数\r\n    // onChange 传递给父组件的页数 \r\n    const {showPages, total,onChange} = props;\r\n    // 列表的 dom 序号\r\n    const [domIndex,setDomIndex] = useState(0);\r\n    // dom 结构\r\n    const [pageList,setPageList] = useState([]);\r\n    // 当前页\r\n    const [currentPage,setCurrentPage] = useState(1);\r\n    // 快速跳转\r\n    const [quickJumper,setQuickJumper] = useState();\r\n    // ul 的 ref\r\n    const ul = useRef();\r\n\r\n    /**\r\n     * @param {number} left 从左边第一个页\r\n     * @param {boolean} curr 当前页码 添加class\r\n     * @returns array\r\n     */\r\n    const list = (left,curr) => {\r\n        let arr = [];\r\n        for(let i = left; i < (showPages + left) ; i++){ \r\n            if(i == curr){\r\n                arr.push(<li key={i} page={i} className='page-active' >{i}</li>)\r\n            }else{\r\n                arr.push(<li key={i} page={i}>{i}</li>)\r\n            }\r\n        }\r\n        return arr;\r\n    };\r\n    useEffect(()=>{\r\n        setPageList([...list(currentPage,currentPage)]);\r\n    },[]);\r\n\r\n    useEffect(() =>{\r\n        onChange(currentPage);\r\n    },[currentPage])\r\n   \r\n    const clickTarget = (e)=>{\r\n        e.preventDefault();\r\n        if(e.target.classList.contains('page-active')) return;\r\n        let target =  e.target;\r\n        ul.current.children[domIndex].classList.remove('page-active');\r\n        target.classList.add('page-active');\r\n        setDomIndex(d => target.getAttribute('page') % showPages == 0?showPages-1:target.getAttribute('page') % showPages -1);\r\n        setCurrentPage(Number(target.getAttribute('page')));\r\n    };\r\n\r\n    const leftHand = (e) =>{\r\n        e.preventDefault(); \r\n        if(currentPage == 1)  return ;\r\n        if((currentPage - 1) % showPages == 0) {\r\n            setPageList([...list(currentPage - showPages,currentPage - 1 )]);\r\n            ul.current.children[0].classList.remove('page-active');\r\n            ul.current.children[domIndex].classList.add('page-active');  \r\n            setCurrentPage(currentPage-1);\r\n            setDomIndex(showPages - 1);\r\n        }else{\r\n            ul.current.children[domIndex].classList.remove('page-active');\r\n            ul.current.children[domIndex - 1].classList.add('page-active');  \r\n            setDomIndex(d => d > 0?d-1:0);\r\n            setCurrentPage(currentPage - 1);\r\n        }        \r\n    }\r\n\r\n    const rightHand = (e) =>{\r\n        e.preventDefault();\r\n        if(currentPage == total) return;\r\n        if(currentPage % showPages == 0){\r\n            setPageList([...list(currentPage+1,currentPage+1)]);\r\n            setCurrentPage(currentPage+1);\r\n            setDomIndex(0);\r\n        }else{\r\n            ul.current.children[domIndex].classList.remove('page-active');\r\n            ul.current.children[domIndex + 1].classList.add('page-active');\r\n            setDomIndex(d => d > showPages - 1?0:d+1);\r\n            setCurrentPage(currentPage+1);\r\n        }\r\n    }\r\n    const inputValueChange = (e) =>{\r\n        e.preventDefault();\r\n        setQuickJumper(e.target.value)\r\n    }\r\n    const handKeyUp = (e) => {\r\n        e.preventDefault();\r\n        switch (e.keyCode) {\r\n            case 8:\r\n                setQuickJumper(v => {\r\n                    let value = Number(v.toString().substr(0,v.length-1))\r\n                    return value== 0?'':value;\r\n                })\r\n                break;\r\n            case 13:\r\n                if( quickJumper > total || quickJumper < 1) return '';\r\n                let remain = quickJumper % showPages;\r\n                let per = remain == 0 ?Math.floor((quickJumper - 1) / showPages):Math.floor(quickJumper/ showPages);\r\n               \r\n                setPageList([...list(per*showPages + 1,quickJumper)])\r\n                setCurrentPage(Number(quickJumper));\r\n                setDomIndex(remain == 0?showPages -1:remain - 1);\r\n                console.log(currentPage,domIndex);\r\n                setQuickJumper('');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    return (\r\n        <div className='pagination'>\r\n            <div className={`next-page ${currentPage == 1? 'next-pagination-disabled':''}`}  onClick={leftHand}><svg viewBox=\"64 64 896 896\" focusable=\"false\"  data-icon=\"left\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\"></path></svg>\r\n            </div>\r\n            <ul className='page' ref={ul} onClick={clickTarget}>\r\n                {\r\n                    pageList\r\n                }\r\n            </ul>\r\n            <div className={`next-page ${currentPage == total? 'next-pagination-disabled':''}`} onClick={rightHand}>\r\n                <svg viewBox=\"64 64 896 896\" focusable=\"false\"  data-icon=\"right\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\"></path></svg>\r\n            </div>\r\n            <div className=\"quick-jumper\">\r\n                跳转至\r\n                <input type=\"text\" \r\n                    value={quickJumper}\r\n                    onChange={inputValueChange}\r\n                    onKeyUp={handKeyUp}\r\n                ></input> 页\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React, { useState,memo, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Login from './Loging'\r\nimport Pagination from '../pagination/Pagination'\r\nimport TopicList from '../topicList/TopicList';\r\n\r\nconst Topic = memo((props) => {\r\n    const [list, setList] = useState([]);\r\n    const [key, setKey] = useState(true);\r\n    const [page, setPage] = useState(1);\r\n    const limit = 30;\r\n    //初始化\r\n    useEffect(() => {\r\n        (async() => {\r\n            let params = {\r\n                'page': page,\r\n                'limit': limit,\r\n                'tab': props.tag,\r\n                'mdrender': true\r\n            }\r\n            let {data:res}= await axios.get('/v1/topics', {params});\r\n            setList(res.data);\r\n            if(res.success){\r\n                setKey(false);\r\n            }\r\n        })();\r\n    }, [page]);\r\n    //设置页码\r\n    const onChange = async (currPage) => {\r\n        setPage(currPage);\r\n    }\r\n    return (\r\n        <div className='list'>\r\n            {\r\n                key ? <Login ></Login> : (\r\n                    < >\r\n                        {\r\n                            list.map(v => <React.Fragment key={v.id}>\r\n                                <TopicList v={v}></TopicList>\r\n                            </React.Fragment>)\r\n                        }\r\n                        <Pagination showPages={5} total={40} onChange={onChange}></Pagination>\r\n                    </>\r\n                )\r\n            }\r\n\r\n        </div>\r\n    )\r\n});\r\n// const mapDispatchProps = (dispatch) =>{\r\n//     return {\r\n//         handClick: v => {\r\n//             dispatch({\r\n//                 type:\"SAVE_DETAILS\",\r\n//                 details:  {timeInterval:`${getTime(v.last_reply_at)}`,...v}\r\n//             })\r\n//         }\r\n//     }\r\n// }\r\nexport default Topic","import React,{useEffect} from 'react';\r\nimport './Index.scss'\r\nimport {Switch,Route,useHistory} from 'react-router-dom';\r\nimport Tab from '../Components/tabar/Tabar.js'\r\nimport Topic from '../Components/topic/Topic'\r\nimport Personal from '../Components/personal/Personal.jsx'\r\nfunction Index(props) {\r\n    const history = useHistory();\r\n    useEffect(()=>{\r\n        if(history.location.pathname == '/index'){\r\n            history.push('/index/all')\r\n        }\r\n    },[history.location.pathname]);\r\n    return (\r\n        <>\r\n            <div className=\"index-container\">\r\n                <div className='tabbar'>\r\n                    <Tab></Tab>\r\n                </div>\r\n                <div className='toplist-cell'>\r\n                    <Switch>\r\n                        <Route exact path='/index/:tag' component={\r\n                            ({match}) => {\r\n                                return <Topic tag={match.params.tag}/>\r\n                            }\r\n                        }></Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n            <Personal></Personal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Index;","import React,{ useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {NavLink} from 'react-router-dom';\r\nimport './personal.scss'\r\nexport default function Personal(props) {\r\n    const {token,personal} = useSelector(state=>state);\r\n    if(props.author){\r\n        return <>\r\n            <div className='personal'>\r\n                <p style={{background: '#f6f6f6'}}>作者</p>\r\n                <div className=\"user-personal\">\r\n                    <div className=\"user-big-avatar\">\r\n                        <NavLink to={`/user/${props.author.loginname}`}>\r\n                            <img src={props.author.avatar_url} alt=\"\" title={props.author.loginname} alt={props.author.loginname}/>\r\n                        </NavLink>\r\n                        <NavLink to={`/user/${props.author.loginname}`}>\r\n                            <p>{props.author.loginname}</p>\r\n                        </NavLink>\r\n                    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    }\r\n    if(token != ''){\r\n        return (\r\n                <div className='personal'>\r\n                    <p style={{background: '#f6f6f6'}}>个人信息</p>\r\n                    <div className=\"user-personal\">\r\n                        <div className=\"user-big-avatar\">\r\n                            <NavLink to={`/user/${personal.loginname}`}>\r\n                                <img src={personal.avatar_url} alt=\"\" title={personal.loginname} alt={personal.loginname}/>\r\n                            </NavLink>\r\n                            <NavLink to={`/user/${personal.loginname}`}>\r\n                                <p>{personal.loginname}</p>\r\n                            </NavLink>\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n    }else{\r\n        return  <div className='personal-no'>\r\n            <p>\r\n                CNode：Node.js专业中文社区\r\n            </p>\r\n           <p className='tourist'>\r\n               当前是游客状态，您可以 <a href='#/login'>登录</a>\r\n           </p>\r\n            \r\n        </div>\r\n    }\r\n   \r\n};\r\n","import React from 'react';\r\nexport default function TopicTab(props) {\r\n    const green ={\r\n        backgroundColor:'#80bd01',\r\n        color: \"#fff\"\r\n    }\r\n    const white ={\r\n        color: '#999',\r\n        backgroundColor: '#e5e5e5',\r\n    }\r\n    const styleGood = {\r\n        color:'#fff',\r\n        fontSize: '12px',\r\n        padding: '2px 4px',\r\n        whiteSpace: 'nowrap',\r\n        lineHeight: 1.5,\r\n        margin: '0 5px',\r\n        borderRadius: 5,\r\n    }\r\n\r\n    if(props.top){\r\n        return <span style={{...styleGood,...green}}>置顶</span>\r\n    }\r\n    if(props.good && !props.top){\r\n        return <span style={{...styleGood,...green}}>精华</span>\r\n    }\r\n    return  <span style={{...styleGood,...white}}>{props.tab=='ask'?'问答':'分享'}</span>\r\n};\r\n","import React,{useContext} from 'react';\r\nimport TopicTab from '../topic/TopicTab';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './topic-list.scss'\r\nimport Context from '../../Context.js'\r\nexport default function TopicList(props) {\r\n    const {now,timeInterval} = useContext(Context);\r\n    const {v} = props;\r\n    return (\r\n        <>\r\n            <div className=\"cell\">\r\n                <NavLink to={`/user/${v.author.loginname}`}>\r\n                    <img src={v.author.avatar_url} alt={v.author.loginname} title={v.author.loginname}></img>\r\n                </NavLink>\r\n                {\r\n                    v.reply_count >=0 && <div className=\"rank\" >\r\n                        <span>{v.reply_count}</span>\r\n                        <span>/</span>\r\n                        <span>{v.visit_count}</span>\r\n                    </div>\r\n                }\r\n                {\r\n                    v.top != undefined &&  <TopicTab top={v.top} good={v.good} tab={v.tab} ></TopicTab>\r\n                }\r\n                <NavLink className=\"title\" to={`/topic/${v.id}`}>{v.title}</NavLink>\r\n                <NavLink className=\"time\" to={`/topic/${v.id}`}>\r\n                    <div>{v.create_at?timeInterval(v.create_at):timeInterval(v.last_reply_at)}</div>\r\n                </NavLink>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n"],"sourceRoot":""}